<!DOCTYPE html>
<html>
  <head>
    <title>Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <!-- Bootstrap -->
    <link href="/css/bootstrap-flatly.min.css" rel="stylesheet" media="screen">
    <link href="/css/site.css" rel="stylesheet" media="screen">
    <link href="/css/syntax.css" rel="stylesheet" media="screen">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">MyHDL / dev</a>
        </div>
        <div class="navbar-collapse collapse">

          <ul class="nav navbar-nav navbar-left">
 
            <li class="active"><a href="/guide.html">Guide</a></li>
            <li class="dropdown">
              <a href="/current/" class="dropdown-toggle" data-toggle="dropdown">Current <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/current/myhdl-0.9.html">MyHDL 0.9</a></li>    
              </ul>
            <li><a href="/meps/">MEPs</a></li>
            <li><a href="/tasks/">Tasks</a></li>
            <li><a href="/ideas/">Ideas</a></li>
            <li><a href="/archive/">Archive</a></li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li><a href="/site-info.html">Site info</a></li>
          </ul>

        </div><!--/.nav-collapse -->
      </div>
    </div>


<div class="container">

    <ol class="breadcrumb">
       <li><a href="/">Home</a></li>
       <li class="active">Guide</li>
    </ol>

    <div class="page-header">
 
<h1>Guide
</h1>
    </div>

    <div class="row">

        <div class="col-md-3" role="navigation"> 
 
            <div class="sidebar" data-spy="affix" 
                 data-offset-top="80" 
                 data-offset-bottom="60">
                <div class="well">
                    <a href="#"><em>Guide</em></a>
                    <div class="toc">
<ul>
<li><a href="#background-info">Background info</a></li>
<li><a href="#the-repository">The repository</a></li>
<li><a href="#tracking-development">Tracking development</a><ul>
<li><a href="#basic-usage">Basic usage</a></li>
<li><a href="#development-branches">Development branches</a></li>
<li><a href="#using-the-repository-code">Using the repository code</a></li>
</ul>
</li>
<li><a href="#creating-your-own-changesets">Creating your own changesets</a><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#first-step-communicate">First step: communicate</a></li>
<li><a href="#creating-changesets">Creating changesets</a></li>
<li><a href="#quality">Quality</a></li>
<li><a href="#contributing-changesets">Contributing changesets</a></li>
</ul>
</li>
</ul>
</div>

                </div>
            </div>
        </div>

        <div class="content">
            <div class="col-md-6" data-spy="scroll" data-target="#sidenav" role="main">
                <h2 id="background-info">Background info</h2>
<p>The <a href="http://dev.myhdl.org" title="dev.myhdl.org">dev.myhdl.org</a> website aims to document all aspects of the development
process of the MyHDL project. MyHDL is a Python library to use
Python as a <abbr title="Hardware Description Language">HDL</abbr>. The main projects website is <a href="http://www.myhdl.org" title="MyHDL site">here</a>. </p>
<p>MyHDL's original developer, <a href="mailto:jan@jandecaluwe.com" title="Jan Decaluwe">Jan Decaluwe</a>, is MyHDL's <abbr title="Benevolent Dictator For Life">BDFL</abbr>. He has the final
say about its design and development decisions.  The development workflow takes
that into account.</p>
<h2 id="the-repository">The repository</h2>
<p>MyHDL code development is managed on <a href="http://www.bitbucket.com" title="Bitbucket">Bitbucket</a> using
<a href="http://www.selenic.com/mercurial">mercurial</a>.</p>
<p>The public repository resides <a href="https://bitbucket.org/jandecaluwe/myhdl" title="MyHDL repository">here</a>.  Bitbucket offers an
excellent interface to the repository and its history. </p>
<p>The repository can be used for several purposes, such as browsing through the
development history, and tracking development. In addition, you can use it to
contribute your own changesets.  </p>
<h2 id="tracking-development">Tracking development</h2>
<h3 id="basic-usage">Basic usage</h3>
<p>If you have mercurial installed, you can use the repository to track
development.  First, use the instructions on Bitbucket to clone the repository
to a local repository on your machine.</p>
<p>In that directory you can check for new changesets at any time:</p>
<div class="codehilite"><pre>$ hg in
</pre></div>


<p>To get new changesets:</p>
<div class="codehilite"><pre>$ hg pull
</pre></div>


<p>To update the workspace with the new changesets: </p>
<div class="codehilite"><pre>$ hg update
</pre></div>


<h3 id="development-branches">Development branches</h3>
<p>The repository contains multiple branches. Each branch corresponds to a
development line with a specific purpose. Before using the repository to
install MyHDL or to develop your own changesets, make sure you are on the
correct branch.</p>
<p>To find out what branches are available, use:</p>
<div class="codehilite"><pre>$ hg branches
</pre></div>


<p>Currently, the following branches are active:</p>
<table class="table">
<thead>
<tr>
<th>Branch name</th>
<th>Purpose</th>
<th>Policy</th>
</tr>
</thead>
<tbody>
<tr>
<td>default</td>
<td>Stable</td>
<td>0.8 release + bug fixes</td>
</tr>
<tr>
<td>0.9-dev</td>
<td>Development</td>
<td>0.9 new features</td>
</tr>
</tbody>
</table>
<p>To switch to a particular branch, use:</p>
<div class="codehilite"><pre>$ hg update
</pre></div>


<h3 id="using-the-repository-code">Using the repository code</h3>
<p>To use the repository code the simplest way is to adjust the <code>$PYTHONPATH</code> shell
variable. Let's assume you have checked out the MyHDL code from the mercurial
repository to <code>$HOME/dev/myhdl</code>. Insert that path as the first entry to the
<code>$PYTHONPATH</code> variable. When doing the import, the <code>myhdl</code> package in the
<code>$HOME/dev/myhdl</code> path will be found first, before any other MyHDL version that
may be installed.</p>
<p>For convenience you can put the change of the <code>$PYTHONPATH</code> variable in a script
and source it when needed. The bash shell script would look like this:</p>
<div class="codehilite"><pre>PYTHONPATH=&quot;$HOME/dev/myhdl:${PYTHONPATH}&quot;
export PYTHONPATH
</pre></div>


<p>If you save this in <code>myhdl.sh</code>, you can use it as follows: </p>
<div class="codehilite"><pre>source myhdl.sh
</pre></div>


<h2 id="creating-your-own-changesets">Creating your own changesets</h2>
<h3 id="introduction">Introduction</h3>
<p>You can also make your own changesets and contribute them to the development. </p>
<p>The workflow is such that every contributed change is reviewed by other
developers and applied or rejected by the <abbr title="Benevolent Dictator For Life">BDFL</abbr>. Therefore, your goal as a
contributor should be to minimize the work of other developers. What is needed
is the following:</p>
<ul>
<li>an understanding why the change is needed, and why
  it will be useful to many people</li>
<li>some confidence that it won't break current
  and foreseeable features </li>
<li>the changes have to be tested  </li>
<li>you have to use <a href="http://www.selenic.com/mercurial">mercurial</a>
  to manage the changesets</li>
<li>you have to use <a href="http://www.bitbucket.org">Bitbucket</a>
  to fork the main repo and create Pull Requests.</li>
</ul>
<p>The implementation of these requirements is described in more detail in the
following sections.</p>
<h3 id="first-step-communicate">First step: communicate</h3>
<p>Don't send patches out of the blue.</p>
<p>Your first step is to communicate about the problem or feature with the MyHDL
community.  Start a discussion in the <a href="http://www.myhdl.org/doku.php/mailing_list" title="Mailing List">Mailing List</a> or (if you are certain)
add an entry in the
<a href="http://sourceforge.net/tracker/?group_id=91207&amp;atid=596332">Bug Tracker</a>.</p>
<p>The result will be a fruitful discussion that hopefully results in a decision
about what should be done. The byproduct will be a specification for the work.</p>
<h3 id="creating-changesets">Creating changesets</h3>
<p>To manage your patches, use mercurial. By doing so, the other developers can
simply use their normal development workflow to incorporate your work.
Moreover, your name will be preserved as the author, so you get the credit you
deserve.</p>
<p>In mercurial terminology, a set of patches that belong together is called
a <em>changeset</em>. Assuming you know how to work with mercurial, creating changesets
is easy. You make changes in your local repository clone, and use:</p>
<div class="codehilite"><pre>hg commit
</pre></div>


<p>to create a new changeset that contains your patches.</p>
<h3 id="quality">Quality</h3>
<p>At a certain point you will want to publish your changesets, so that everyone
can benefit from them. However, don't publish your work until it is complete.
Make sure there are no loose ends that others will have to address after you.
Most importantly, make sure your changes have been tested.</p>
<p>Run the MyHDL regression tests to make sure nothing breaks.  As a minimum, the
tests in <code>test/core</code> should be run. If your changes are related to conversion
to VHDL/Verilog, the test in the <code>test/conversion</code> directories should be run
also.</p>
<p>Presumably, you have some test for your changes in place. If at all possible,
turn it into a test that can be added to the regression test suites.</p>
<p>You may need a number of changesets to complete your work. That isn't a problem
at all, on the contrary. Finish the job before publishing.  Note that this
development flow relies on the decoupling of the creation and the publication
of changesets.  This is a distinguishing feature of distributed revision
control systems versus centralized ones.</p>
<h3 id="contributing-changesets">Contributing changesets</h3>
<p>When you are ready with your changes, use mercurial and <a href="http://www.bitbucket.com" title="Bitbucket">Bitbucket</a> to publish
them. The advantage of using mercurial instead of traditional patch files is
that it minimizes the overhead to review and apply, and, more importantly, it
keeps the authoring information intact. Bitbucket has a great web interface to
review and merge the changesets.</p>
<p>Contributing changesets is done by creating <em>pull requests</em>. This
process is documented
<a href="https://confluence.atlassian.com/display/BITBUCKET/Fork+a+Repo%2C+Compare+Code%2C+and+Create+a+Pull+Request">here</a>.</p>
<p>Other developers will review the pull request, and the <abbr title="Benevolent Dictator For Life">BDFL</abbr> will decide to
merge it in or not.</p>
            </div>
        </div>
    </div>

    <div class="footer">
        <div style="margin: 8px">
<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-size="medium"></div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
window.__gcfg = {
    lang: 'en-US'
};
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<script type="text/javascript" src="http://www.reddit.com/static/button/button1.js"></script>        </div>
        <p>Last edit on 03-Feb-2014 by Jan Decaluwe</p>
        <p>Content licensed under the
           <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a> license.
           See <a href="/terms-of-use.html">Terms of Use</a>.
        </p> 
    </div>
</div> 


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>

  </body>
</html>